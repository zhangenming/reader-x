import txt0 from '../txt/生死疲劳.txt?raw'

import { reactive } from 'vue'

import { getParams } from './debug'

type datas = line[]
type line = period[]
type period = section[]
type section = word[] & { spk?: boolean }
type word = string

const { chunk } = getParams()

const d = txt0.split(/\r\n */).filter((e) => e.trim())
const x = d.slice(0, d.length / (chunk === false ? 100 : Number(chunk)))

export const datas = reactive(x.map(doLayout))

export const tops = [
  0, 0, 0, 0, 50, 50, 150, 150, 1900, 2300, 3600, 5600, 6900, 7300, 8400, 8700, 9150, 10900, 11800,
  12600, 13500, 13850, 14050, 15100, 15900, 18350, 19150, 19750, 22600, 22900, 23350, 23750, 23750,
  23850, 23850, 24150, 25600, 27600, 29600, 33300, 37250, 37800, 38450, 40050, 41400, 42800, 45750,
  47350, 47450, 48700, 51700, 53900, 54550, 56800, 59500, 59550, 59800, 60100, 60400, 60400, 60500,
  60500, 62150, 63950, 67050, 70850, 70950, 71050, 71150, 73900, 75050, 75200, 75400, 75500, 75750,
  75800, 77850, 78300, 83900, 84750, 85150, 85500, 86250, 86550, 86650, 86800, 87100, 87650, 87950,
  88350, 89250, 90150, 96300, 96950, 97200, 97700, 97900, 98050, 99000, 99450, 100300, 100300,
  100400, 100400, 100700, 103850, 105050, 105500, 106950, 111950, 113000, 114200, 115250, 116900,
  117250, 128250, 128850, 134400, 135500, 135750, 136000, 136350, 139150, 139150, 139250, 139250,
  143850, 144000, 145650, 146250, 146400, 147050, 147150, 147600, 147700, 147950, 148100, 148650,
  149150, 149650, 151800, 164700, 165200, 166200, 166900, 167050, 167150, 167250, 167400, 167900,
  168300, 169600, 170650, 172500, 173150, 174000, 174950, 176300, 177350, 178550, 179050, 179650,
  180050, 180200, 180800, 181400, 181500, 181800, 182100, 182600, 183400, 183500, 183550, 183600,
  183700, 184400, 185400, 186700, 191150, 191650, 192400, 192700, 192700, 192800, 192800, 193700,
  193750, 194450, 197650, 200450, 204050, 209400, 210200, 213800, 215350, 215350, 215450, 215450,
  217550, 219950, 220550, 220850, 221250, 222750, 226900, 227350, 227900, 228100, 231400, 232400,
  232850, 234250, 235050, 236600, 237050, 237300, 237600, 237750, 238350, 239000, 239400, 239550,
  239800, 240000, 240350, 240550, 240700, 241450, 241700, 243200, 243700, 244000, 245000, 245250,
  245550, 245700, 245900, 246500, 246700, 249750, 250200, 251200, 251500, 252050, 253000, 253450,
  253900, 254050, 254050, 254150, 254150, 255150, 256400, 257200, 258250, 261150, 261250, 261600,
  261850, 261950, 262050, 262150, 262600, 263250, 264050, 264300, 264750, 265250, 265450, 265600,
  266000, 267450, 267950, 268650, 268800, 269550, 270050, 270300, 270700, 271950, 272200, 272350,
  272800, 273200, 275550, 276950, 278500, 278650, 278850, 279150, 280500, 281050, 281150, 281700,
  281950, 282100, 282200, 282950, 283350, 283900, 284250, 288850, 294050, 294600, 295100, 295450,
  295800, 296100, 296450, 296800, 297050, 297350, 297500, 298250, 298600, 298800, 300000, 300800,
  301200, 301600, 301750, 302100, 303050, 303450, 304200, 304800, 305050, 305350, 305500, 305750,
  305750, 305850, 305850, 307550, 309450, 309950, 310800, 313900, 315400, 317600, 319050, 321850,
  323550, 330000, 331900, 333800, 334150, 334650, 334750, 334900, 335550, 335750, 337250, 338100,
  338100, 338200, 338200, 338700, 339150, 339600, 340150, 341050, 344700, 345450, 345900, 347000,
  348000, 348500, 350300, 350900, 351500, 352500, 354050, 354550, 355350, 355800, 356350, 356650,
  357250, 357450, 358000, 358400, 358950, 359900, 362650, 363100, 363600, 363950, 364200, 364500,
  364900, 366850, 367400, 367950, 368850, 370400, 371100, 371800, 372200, 372550, 372750, 373200,
  373400, 374050, 374550, 374850, 375100, 375300, 375600, 376400, 376950, 376950, 377050, 377050,
  377550, 379300, 381450, 381850, 382150, 382350, 382600, 384000, 385000, 385150, 385500, 386600,
  386800, 387050, 387150, 388400, 388850, 388850, 388900, 388900, 389000, 389000, 389900, 390400,
  391650, 392200, 392850, 394600, 396000, 396500, 399200, 399850, 400100, 400350, 401600, 401800,
  402050, 402400, 402600, 402700, 403000, 403200, 403700, 403950, 404600, 405300, 405950, 406450,
  406650, 407100, 407700, 408800, 409900, 410500, 411450, 411700, 412200, 412800, 413100, 413550,
  413800, 414600, 414750, 415000, 415350, 417700, 417700, 417800, 417800, 418850, 421600, 422200,
  422700, 423300, 424150, 424950, 425100, 425300, 426950, 427050, 427250, 427350, 427550, 427800,
  428400, 428700, 429950, 430900, 431300, 431850, 432050, 432700, 433000, 435200, 436050, 436700,
  437000, 437400, 437500, 437700, 439900, 442550, 444300, 444550, 444650, 444650, 444750, 444750,
  448200, 448300, 448400, 450250, 454050, 454300, 454900, 455450, 455550, 456100, 457700, 458900,
  460350, 461050, 461600, 461800, 462450, 462950, 463150, 463900, 464750, 464950, 465100, 465700,
  467000, 467250, 467250, 467350, 467350, 468100, 468950, 470800, 474350, 475500, 480300, 480400,
  480600, 480950, 481250, 481500, 481550, 484600, 487450, 489200, 489400, 489650, 489700, 489750,
  489900, 490100, 490350, 491200, 492100, 496150, 498250, 499600, 500850, 502900, 502900, 503000,
  503000, 504000, 505150, 505300, 511350, 512100, 512300, 512400, 512600, 514150, 517100, 519100,
  522250, 525800, 526400, 528550, 529400, 531200, 532350, 532950, 535000, 535150, 536200, 536650,
  538500, 538950, 539100, 539900, 540350, 540450, 540550, 540950, 541050, 541400, 541850, 543700,
  543900, 544100, 544300, 544750, 546100, 550100, 551000, 552200, 552300, 552600, 553900, 554300,
  554750, 554950, 555050, 555150, 556300, 557000, 558050, 558800, 559350, 561300, 561700, 561700,
  561800, 561800, 563550, 563700, 568850, 571550, 572350, 575400, 576150, 577250, 578150, 578700,
  579100, 584900, 587150, 589350, 590000, 592200, 608100, 609200, 615100, 616150, 619700, 628550,
  631400, 633600, 634100, 638100, 644250, 644400, 649200, 654400, 658350, 659050, 659600, 659600,
  659700, 659700, 660250, 661150, 661750, 664200, 665300, 667050, 668300, 679600, 682900, 685650,
  687750, 688800, 689700, 691950, 697950, 699000, 703450, 706000, 709800, 711250, 713300, 716550,
  716600, 716600, 716700, 716700, 719000, 719450, 722250, 724100, 725750, 726350, 727650, 728900,
  732200, 733300, 736350, 737550, 738300, 739700, 745100, 745800, 750800, 750900, 751000, 751100,
  751850, 752150, 752500, 753500, 754600, 755500, 757700, 758000, 758250, 758500, 759050, 759300,
  759500, 759700, 759900, 760050, 760950, 761050, 761200, 761400, 762000, 762100, 762550, 762700,
  762800, 763100, 763950, 764300, 764550, 764700, 764800, 766600, 766650, 766900, 767600, 768400,
  768500, 768850, 769000, 769850, 769850, 769950, 769950, 771200, 771950, 772300, 772500, 772850,
  775000, 775650, 777150, 777850, 778150, 778900, 779400, 779700, 780400, 780750, 781500, 781650,
  782950, 783850, 784500, 785450, 785950, 786400, 789550, 790000, 792550, 794000, 795000, 796300,
  798500, 802450, 803600, 804300, 805300, 806300, 807300, 807700, 808050, 808300, 808500, 809500,
  809850, 810850, 811750, 812350, 813600, 816100, 818800, 820450, 821700, 822500, 825000, 825750,
  825950, 826050, 826050, 826100, 826100, 826200, 826200, 828750, 829550, 829850, 830350, 830500,
  830550, 832500, 832600, 833850, 835800, 836850, 838400, 838600, 839050, 840200, 841650, 842050,
  842350, 842800, 843000, 843150, 843400, 843950, 844050, 845450, 845650, 846950, 847350, 849200,
  851300, 851500, 851500, 851600, 851600, 852100, 853000, 853350, 855100, 855650, 855850, 857400,
  859800, 862500, 864050, 866000, 866900, 867050, 867450, 867750, 869850, 871050, 871150, 871350,
  871650, 871800, 871900, 872100, 873050, 873500, 873600, 873700, 873800, 875150, 876350, 876650,
  877200, 877300, 877600, 877800, 877800, 877900, 877900, 879500, 882250, 882850, 883800, 883950,
  884050, 884450, 884900, 885150, 885550, 886000, 886900, 890900, 892850, 894600, 897150, 901050,
  902150, 902450, 902850, 903800, 905050, 906100, 909850, 913800, 918450, 920100, 921600, 926650,
  928850, 930650, 934400, 935400, 935400, 935500, 935500, 936550, 937400, 938850, 940350, 943200,
  943450, 943700, 944300, 944400, 945800, 954100, 955650, 956300, 956650, 957150, 960400, 962100,
  965000, 965500, 966850, 968250, 969800, 969800, 969900, 969900, 970300, 975000, 975100, 975600,
  976000, 976800, 978250, 979100, 980450, 981600, 982650, 984350, 985600, 986400, 991000, 992700,
  998300, 1000200, 1001400, 1002050, 1005250, 1006900, 1007750, 1013000, 1013850, 1015850, 1015950,
  1016250, 1017500, 1018800, 1019700, 1020950, 1021600, 1022750, 1024750, 1027950, 1028650, 1029500,
  1030950, 1032550, 1032650, 1032700, 1032800, 1034650, 1038900, 1039500, 1041100, 1042700, 1043850,
  1043950, 1044200, 1044550, 1044900, 1048200, 1050300, 1050400, 1050400, 1050500, 1050500, 1052000,
  1052400, 1053200, 1054700, 1056500, 1059200, 1060350, 1060950, 1061600, 1062000, 1062350, 1063350,
  1064000, 1064650, 1064950, 1065100, 1066150, 1068050, 1069050, 1070550, 1070750, 1076500, 1077950,
  1078400, 1078600, 1078950, 1079600, 1080150, 1080800, 1081350, 1085000, 1087400, 1089000, 1090300,
  1090800, 1093150, 1093400, 1094200, 1094200, 1094300, 1094300, 1095100, 1102650, 1103600, 1103700,
  1103950, 1104200, 1104250, 1104300, 1106500, 1106850, 1107500, 1107850, 1107950, 1109750, 1110900,
  1111750, 1111900, 1112050, 1116250, 1117250, 1120850, 1123300, 1123650, 1123900, 1124350, 1124500,
  1124650, 1125450, 1126850, 1131050, 1134700, 1135300, 1136900, 1137650, 1141800, 1142250, 1142500,
  1143000, 1143300, 1144350, 1146400, 1148450, 1153650, 1154200, 1154350, 1154950, 1159000, 1160100,
  1160800, 1161800, 1161800, 1161900, 1161900, 1163100, 1164100, 1164550, 1165150, 1165400, 1168850,
  1169800, 1170450, 1173500, 1173700, 1174250, 1175200, 1177100, 1183000, 1184700, 1186250, 1186700,
  1187200, 1188450, 1198500, 1199900, 1200300, 1202600, 1203150, 1203800, 1205800, 1208550, 1208850,
  1209600, 1209900, 1210300, 1211000, 1211650, 1211850, 1212000, 1212250, 1212550, 1212750, 1213050,
  1213550, 1213850, 1215300, 1215700, 1215950, 1216550, 1217400, 1219450, 1221250, 1224800, 1224950,
  1225150, 1225350, 1225950, 1226100, 1227250, 1227600, 1228600, 1236800, 1236950, 1237150, 1237450,
  1237650, 1238500, 1238700, 1239200, 1239500, 1240250, 1240400, 1241900, 1242650, 1243050, 1244400,
  1245500, 1246100, 1246350, 1246350, 1246450, 1246450, 1249500, 1250650, 1252200, 1253150, 1253400,
  1254100, 1260000, 1265000, 1265450, 1270200, 1271250, 1272100, 1272100, 1272200, 1272200, 1273300,
  1274200, 1275100, 1278850, 1278950, 1281200, 1282400, 1282600, 1282800, 1283250, 1284650, 1285050,
  1285250, 1285550, 1286600, 1287800, 1291100, 1291900, 1293600, 1295100, 1295200, 1295300, 1295600,
  1296150, 1296250, 1297100, 1297700, 1298450, 1300050, 1300300, 1303600, 1306300, 1307300, 1308700,
  1310950, 1311900, 1313100, 1314350, 1315650, 1317150, 1318200, 1318200, 1318300, 1318300, 1322750,
  1323800, 1327050, 1327900, 1331800, 1335750, 1338800, 1340500, 1341300, 1341900, 1342550, 1343550,
  1344450, 1344900, 1346050, 1346200, 1347950, 1349000, 1349400, 1349700, 1350150, 1350500, 1350600,
  1350900, 1351050, 1351150, 1351450, 1352050, 1352050, 1352150, 1352150, 1352550, 1354300, 1356500,
  1357050, 1358900, 1362050, 1362750, 1363150, 1363900, 1364300, 1364400, 1364450, 1364550, 1364650,
  1364750, 1364850, 1364950, 1365050, 1365150, 1366000, 1366150, 1366350, 1366500, 1366650, 1368550,
  1368650, 1368950, 1369700, 1369900, 1370550, 1372050, 1373600, 1375400, 1376650, 1377450, 1378900,
  1379450, 1382250, 1384500, 1385350, 1386050, 1389200, 1389400, 1390800, 1393850, 1394250, 1394600,
  1395000, 1395350, 1396450, 1396850, 1397100, 1397800, 1397800, 1397900, 1397900, 1398100, 1398850,
  1400900, 1401600, 1402450, 1403250, 1403800, 1406700, 1409300, 1410150, 1412550, 1417600, 1421550,
  1422350, 1424900, 1426150, 1426350, 1427100, 1427450, 1428000, 1428200, 1428450, 1428550, 1428900,
  1429050, 1430650, 1430900, 1431150, 1431400, 1431600, 1432300, 1432650, 1433000, 1433300, 1433550,
  1433900, 1434700, 1434800, 1434900, 1435000, 1435050, 1435900, 1436050, 1436700, 1437000, 1437250,
  1437600, 1437800, 1438200, 1438550, 1438750, 1439300, 1439450, 1439500, 1440000, 1440100, 1440200,
  1440400, 1440900, 1441150, 1441600, 1441700, 1442150, 1442800, 1443200, 1443350, 1443750, 1443950,
  1444350, 1452450, 1452600, 1453200, 1453300, 1453400, 1453500, 1454700, 1455550, 1456250, 1457100,
  1457650, 1458900, 1459000, 1459800, 1462050, 1463600, 1464000, 1465000, 1465850, 1466400, 1467200,
  1467700, 1468950, 1469300, 1471600, 1472150, 1472700, 1473950, 1474250, 1475250, 1476850, 1477350,
  1477800, 1478800, 1479350, 1480100, 1481050, 1481350, 1482950, 1483450, 1483750, 1484500, 1485000,
  1485900, 1486250, 1486700, 1487000, 1490700, 1491550, 1492500, 1493450, 1493950, 1494500, 1494950,
  1495100, 1495300, 1495700, 1496000, 1496250, 1496550, 1496700, 1496950, 1497500, 1497750, 1498450,
  1498650, 1499000, 1499150, 1499200, 1499500, 1499500, 1499600, 1499600, 1502450, 1504050, 1504700,
  1505350, 1505850, 1506300, 1506550, 1507150, 1507200, 1507550, 1507750, 1508100, 1508400, 1509150,
  1509850, 1511600, 1512400, 1513150, 1513800, 1514700, 1516350, 1519750, 1520850, 1522200, 1522750,
  1525600, 1526800, 1527100, 1528200, 1528350, 1528900, 1529200, 1530300, 1530600, 1530850, 1531100,
  1532350, 1533000, 1534000, 1535800, 1539250, 1540000, 1540450, 1540750, 1540900, 1541150, 1541400,
  1541600, 1542900, 1543150, 1543350, 1543650, 1544200, 1544850, 1544850, 1544950, 1544950, 1547150,
  1547400, 1549000, 1549250, 1551800, 1553200, 1554550, 1555300, 1555900, 1556900, 1561600, 1561850,
  1563650, 1564300, 1564550, 1565400, 1566150, 1567350, 1567950, 1571000, 1574450, 1575500, 1575950,
  1576300, 1576500, 1576500, 1576600, 1576600, 1576700, 1577750, 1580000, 1580350, 1588400, 1588400,
  1588450, 1588450, 1588550, 1588550, 1588850, 1589000, 1589150, 1589300, 1589550, 1589650, 1590600,
  1591400, 1592000, 1593000, 1594300, 1594700, 1596700, 1596950, 1597050, 1598150, 1599050, 1599400,
  1599500, 1600500, 1600950, 1601200, 1601300, 1601450, 1601800, 1603200, 1604000, 1604500, 1605000,
  1605400, 1605800, 1606150, 1606550, 1606800, 1606800, 1606900, 1606900, 1607700, 1611200, 1611850,
  1613950, 1614550, 1615200, 1615300, 1615900, 1616150, 1616450, 1616850, 1617000, 1617400, 1617850,
  1618200, 1618850, 1619050, 1619450, 1619700, 1619850, 1620200, 1620500, 1621250, 1621600, 1621750,
  1623100, 1623450, 1623650, 1624150, 1624400, 1625300, 1625650, 1626500, 1627150, 1627850, 1628100,
  1628800, 1629150, 1629900, 1630450, 1630550, 1631400, 1632750, 1633750, 1634350, 1634850, 1634950,
  1635050, 1635100, 1635650, 1636100, 1636300, 1636900, 1637000, 1637400, 1637500, 1638650, 1638800,
  1639100, 1639250, 1639300, 1639550, 1639550, 1639650, 1639650, 1640250, 1642900, 1644150, 1644800,
  1646400, 1648100, 1648800, 1650350, 1652000, 1652400, 1653300, 1653300, 1653400, 1653400, 1655250,
  1656050, 1656750, 1657150, 1657650, 1658200, 1660100, 1660450, 1660750, 1660950, 1661500, 1662150,
  1662350, 1662850, 1663050, 1663450, 1663650, 1663850, 1663950, 1664050, 1664150, 1664550, 1664800,
  1664950, 1665100, 1665750, 1667800, 1669650, 1672650, 1677050, 1677550, 1679350, 1682700, 1684200,
  1684200, 1684300, 1684300, 1684850, 1685200, 1688400, 1689900, 1691050, 1691600, 1699950, 1705450,
  1705650, 1709100, 1709400, 1709950, 1710050, 1710200, 1710350, 1715350, 1715450, 1718200, 1720400,
  1722700, 1723850, 1724700, 1730150, 1730800, 1730800, 1730900, 1730900, 1731400, 1732300, 1734600,
  1739000, 1740100, 1741100, 1741950, 1742000, 1742100, 1742200, 1742400, 1742500, 1742600, 1742900,
  1743000, 1743050, 1743250, 1743350, 1743900, 1744000, 1744500, 1744600, 1744750, 1745100, 1745600,
  1746200, 1746550, 1746550, 1746650, 1746650, 1746900, 1748150, 1748750, 1749300, 1756000, 1757350,
  1760700, 1764300, 1766800, 1769350, 1771050, 1771100, 1771250, 1771550, 1771800, 1772200, 1772250,
  1773100, 1773350, 1773400, 1773500, 1773950, 1774050, 1774300, 1774500, 1774650, 1775000, 1775500,
  1775650, 1776350, 1776650, 1777100, 1777200, 1777500, 1777750, 1777950, 1778050, 1778200, 1778250,
  1778300, 1778400, 1778600, 1778700, 1779800, 1781000, 1781250, 1781850, 1782700, 1784000, 1784700,
  1784700, 1784800, 1784800, 1788750, 1791300, 1794550, 1795250, 1797550, 1799600, 1799950, 1802450,
  1803300, 1804850, 1806050, 1806600, 1807800, 1808400, 1809250, 1809750, 1809750, 1809850, 1809850,
  1810500, 1811300, 1812650, 1813000, 1815000, 1815550, 1816300, 1816700, 1817050, 1817300, 1817650,
  1818400, 1819750, 1820000, 1820650, 1821450, 1821600, 1822500, 1822850, 1824650, 1825600, 1825700,
  1826300, 1826800, 1827750, 1827750, 1827850, 1827850, 1829050, 1829450, 1829850, 1829950, 1831250,
  1831550, 1831750, 1831850, 1831950, 1834000, 1834100, 1834400, 1834450, 1834500, 1835050, 1835600,
  1835700, 1836050, 1838850, 1839150, 1839250, 1839350, 1839450, 1840250, 1840350, 1840550, 1840650,
  1840850, 1841500, 1841600, 1841950, 1842150, 1842450, 1843600, 1843800, 1843950, 1844900, 1845050,
  1845150, 1846050, 1846950, 1848150, 1848300, 1848550, 1848650, 1851100, 1851250, 1851350, 1851550,
  1851600, 1851950, 1853400, 1854250, 1854350, 1854600, 1855500, 1856000, 1856800, 1858350, 1858350,
  1858450, 1858450, 1859600, 1861150, 1861700, 1863200, 1863300, 1863450, 1863700, 1863850, 1864250,
  1868350, 1869250, 1869800, 1870000, 1870300, 1870350, 1870700, 1870850, 1871500, 1872200, 1872800,
  1873650, 1873950, 1874100, 1874300, 1874350, 1874600, 1875650, 1875850, 1876050, 1877900, 1878100,
  1878350, 1878750, 1878950, 1880650, 1881350, 1881900, 1882400, 1883250, 1885000, 1885500, 1888250,
  1889650, 1890400, 1892150, 1893600, 1895250, 1895550, 1895800, 1896100, 1896900, 1897900, 1898300,
  1898650, 1899150, 1899400, 1899850, 1900150, 1901000, 1901350, 1901600, 1901800, 1902050, 1903700,
  1904050, 1904600, 1906550, 1907450, 1907500, 1907800, 1907950, 1908050, 1908400, 1908450, 1908650,
  1909000, 1909800, 1909900, 1910150, 1910450, 1910700, 1911050, 1911400, 1911650, 1912100, 1912600,
  1912650, 1913000, 1913150, 1913550, 1915150, 1915150, 1915250, 1915250, 1915450, 1917500, 1919200,
  1921850, 1923550, 1924400, 1925150, 1925350, 1926050, 1926600, 1927100, 1927350, 1932850, 1933450,
  1937100, 1938400, 1939350, 1939600, 1939700, 1939850, 1939900, 1939950, 1940300, 1940400, 1941250,
  1941350, 1942250, 1942400, 1943300, 1943450, 1943600, 1943650, 1944350, 1944550, 1946200, 1947000,
  1947250, 1947350, 1947500, 1948150, 1948450, 1949450, 1949650, 1950000, 1950000, 1950100, 1950100,
  1950950, 1952000, 1952950, 1953300, 1954300, 1955250, 1958350, 1959150, 1960100, 1960400, 1965100,
  1965500, 1966600, 1966950, 1968350, 1968850, 1970500, 1971050, 1971650, 1975550, 1976650, 1977550,
  1978300, 1979200, 1979550, 1979800, 1980950, 1981350, 1981750, 1981950, 1982650, 1982800, 1983300,
  1983850, 1985350, 1986300, 1986800, 1987050, 1987200, 1987500, 1987800, 1987950, 1988200, 1988950,
  1989500, 1990450, 1990950, 1991850, 1992300, 1992300, 1992400, 1992400, 1993500, 1994000, 1995200,
  1996250, 1996650, 1996800, 1997150, 1998050, 1998100, 1998500, 2000450, 2001050, 2002150, 2002900,
  2005450, 2007650, 2008950, 2011850, 2013150, 2014100, 2014500, 2015600, 2016600, 2017100, 2017850,
  2019600, 2019950, 2020400, 2020550, 2020850, 2021050, 2021250, 2021650, 2022200, 2022650, 2022900,
  2023550, 2023750, 2024400, 2024950, 2025700, 2025850, 2026100, 2026200, 2026700, 2026900, 2027150,
  2027450, 2028000, 2028250, 2028550, 2029700, 2030800, 2031500, 2032000, 2032250, 2032900, 2033150,
  2033300, 2033350, 2033450, 2033550, 2033700, 2034800, 2035000, 2035750, 2035900, 2036250, 2036600,
  2036950, 2037200, 2037300, 2037850, 2038500, 2039050, 2039650, 2039700, 2039700, 2039800, 2039800,
  2040900, 2041300, 2043050, 2043600, 2043750, 2044850, 2044950, 2048750, 2051150, 2053850, 2056200,
  2056400, 2057100, 2057850, 2058100, 2058700, 2059350, 2060100, 2060700, 2060850, 2061150, 2062050,
  2062300, 2062500, 2062950, 2063600, 2063750, 2063900, 2064250, 2064550, 2065050, 2065150, 2065450,
  2065550, 2065950, 2066800, 2067650, 2068050, 2068250, 2069450, 2069600, 2070200, 2070550, 2070950,
  2071300, 2072050, 2072300, 2072400, 2072650, 2072900, 2073150, 2073250, 2073650, 2073800, 2074150,
  2074250, 2074550, 2074700, 2074900, 2075000, 2075050, 2075200, 2075600, 2075950, 2076050, 2076100,
  2076300, 2076350, 2076400, 2076500, 2076850, 2077100, 2077650, 2077800, 2077850, 2077900, 2078000,
  2078100, 2078100, 2078200, 2078200, 2078900, 2081500, 2082000, 2082500, 2082800, 2083600, 2084000,
  2084100, 2084650, 2085000, 2085300, 2085500, 2086000, 2086100, 2086150, 2086200, 2086300, 2086450,
  2087100, 2087350, 2087500, 2092750, 2093250, 2093650, 2093950, 2094550, 2095000, 2095400, 2096200,
  2096850, 2099650, 2100550, 2102050, 2103400, 2104600, 2104650, 2105200, 2105300, 2105400, 2105550,
  2108800, 2114950, 2117250, 2118900, 2120200, 2121350, 2123150, 2123900, 2124450, 2124750, 2124900,
  2125800, 2125850, 2126200, 2126550, 2126650, 2127600, 2128050, 2128050, 2128150, 2128150, 2128900,
  2129400, 2130300, 2130950, 2131050, 2131250, 2131350, 2131550, 2132650, 2132800, 2133150, 2133250,
  2133700, 2133900, 2134200, 2134350, 2134550, 2134800, 2135050, 2135200, 2135500, 2135600, 2135950,
  2136050, 2136350, 2136550, 2136600, 2136700, 2136800, 2136900, 2137500, 2138700, 2139750, 2141000,
  2141950, 2142250, 2142950, 2143200, 2144000, 2144300, 2145850, 2146050, 2146800, 2147600, 2148100,
  2149200, 2149500, 2149650, 2149750, 2149950, 2151050, 2151550, 2151750, 2151950, 2152400, 2152500,
  2152950, 2153100, 2153250, 2154750, 2155100, 2155350, 2156150, 2156250, 2156500, 2157250, 2157450,
  2157700, 2158250, 2158500, 2158850, 2159100, 2159750, 2159900, 2160000, 2160300, 2160500, 2160600,
  2160750, 2161300, 2161750, 2163150, 2163350, 2163500, 2163650, 2164150, 2164850, 2165450, 2165550,
  2166000, 2167200, 2167900, 2168450, 2169000, 2169200, 2169900, 2170000, 2170400, 2170500, 2171300,
  2172200, 2172200, 2172250, 2172250, 2172300, 2172300, 2173100, 2174100, 2174400, 2175050, 2175600,
  2176200, 2176700, 2177700, 2178150, 2178750, 2178950, 2180000, 2181400, 2182100, 2182750, 2182750,
  2182800, 2182800, 2183700, 2184750, 2185600, 2186600, 2187300, 2187950, 2188900, 2189250, 2189500,
  2189900, 2190200, 2190200, 2190250, 2190250, 2192050, 2193150, 2193750, 2194450, 2194900, 2195450,
  2196350, 2197400, 2199150, 2199850, 2200150, 2200850, 2201250, 2201550, 2202250, 2202250, 2202300,
  2202300, 2202550, 2203400, 2203500, 2204550, 2205500, 2206750, 2211300, 2212350, 2212600, 2214000,
  2214300, 2214550, 2215500, 2215850, 2216100, 2216250, 2216650, 2217450, 2218700, 2218950, 2219950,
  2220050, 2220250, 2221150, 2221750, 2222950, 2223800, 2224000, 2225300, 2225550, 2225800, 2225900,
  2226150, 2226300, 2226800, 2227050, 2227450, 2227550, 2227950, 2228050, 2228150, 2228350, 2228800,
  2230200, 2230700, 2230850, 2232000, 2232800, 2233400, 2234700, 2234800, 2235900, 2236250, 2236550,
  2237000, 2237400, 2238000, 2238350, 2239100, 2239600, 2239850, 2239900, 2240400, 2240550, 2240950,
  2241250, 2241550, 2242100, 2242250, 2242450, 2242500, 2242550, 2242950, 2243200, 2243350, 2243700,
  2244050, 2244950, 2245500, 2246550, 2246550, 2246600, 2246600, 2248300, 2248400, 2249050, 2249500,
  2251100, 2251200, 2251750, 2252900, 2254200, 2254800, 2255200, 2255350, 2256400, 2257400,
]
function doLayout(txt: string) {
  return section2period(txt).map(period2line)

  /*
 淋淋漓漓的鲜血写着六个大字：“出门十步者死”。
 */
  function section2period(section: string): string[] {
    let spk = false
    const periodFlag = '。！？…'
    const periodFlag2 = '。！？…'
    return [...section].reduce(
      (acc, cur, i, arr) => {
        acc[acc.length - 1] += cur

        const prev = arr[i - 1]
        const next = arr[i + 1]

        const 下一个下引号前面的字符 = arr[arr.indexOf('”', i) - 1]
        // 引号里面整体作为一句话
        if (cur === '“' && periodFlag.includes(下一个下引号前面的字符)) {
          spk = true
        }
        if (
          (!spk && periodFlag.includes(cur) && !periodFlag.includes(next)) ||
          (periodFlag2.includes(prev) && cur === '”')
        ) {
          if (i !== arr.length - 1) {
            // console.log('p')
            acc.push('')
          }
        }
        if (periodFlag2.includes(prev) && cur === '”') {
          spk = false
        }

        return acc
      },
      [' ', ''] // section之间的空行
    )
  }

  function period2line(period: string) {
    let spk = false
    const allFlag = '。！？，—；：…'
    return [...period]
      .reduce(
        (acc, cur, i, arr) => {
          acc[acc.length - 1] += cur

          const next = arr[i + 1]

          if (allFlag.includes(cur) && !(allFlag + '”').includes(next)) {
            if (i !== arr.length - 1) {
              acc.push('')
            }
          }

          return acc
        },
        ['']
      )
      .filter((e) => {
        if (e) {
          return true
        }
        console.error(e) // todo?
      })
      .map((section) => {
        const rs: section = [...section] //.filter((e) => e !== '，'),

        if (rs[0] === '“') {
          spk = true
          rs.shift()
        }

        rs.spk = spk

        if (spk) {
          rs.unshift(' ')
          rs.unshift(' ')
        }

        if (spk && rs[rs.length - 1] === '”') {
          spk = false
          rs.pop()
        }

        return rs
      })
  }
}

export const allSectionsData = datas.flat(2)

// watchEffect(() => {
//   console.log(1, datas[2][1][1][14].R)
// })

// effect(() => {
//   console.log(2, datas[2][1][1][14].R)
// })

// watch(datas, () => {
//   console.log(3, datas)
// })

// setTimeout(() => {
//   datas[2][1][1][14].R.add('1')
// }, 100)
// setTimeout(() => {
//   datas[2][1][1][14].R.add('21')
// }, 200)
